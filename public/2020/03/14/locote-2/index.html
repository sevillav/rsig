<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.69.0" />


<title>Trabajando con layers Shapefile y Raster de SIG en R - R-SIG Sevilla</title>
<meta property="og:title" content="Trabajando con layers Shapefile y Raster de SIG en R - R-SIG Sevilla">


  <link href='favicon.ico' rel='icon' type='image/x-icon'/>



  








<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="https://campoambiente.com">CampoAmbiente</a></li>
    
    <li><a href="https://campoambiente.com/nosotros/">Inicio</a></li>
    
    <li><a href="https://campoambiente.com/nosotros/">Nosotros</a></li>
    
    <li><a href="https://twitter.com/rstudio">Twitter</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">21 min read</span>
    

    <h1 class="article-title">Trabajando con layers Shapefile y Raster de SIG en R</h1>

    
    <span class="article-date">2020-03-14</span>
    

    <div class="article-content">
      
<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>
<script src="/rmarkdown-libs/leaflet-providers/leaflet-providers_1.9.0.js"></script>
<script src="/rmarkdown-libs/leaflet-providers-plugin/leaflet-providers-plugin.js"></script>
<link href="/rmarkdown-libs/HomeButton/home-button.css" rel="stylesheet" />
<script src="/rmarkdown-libs/HomeButton/home-button.js"></script>
<script src="/rmarkdown-libs/HomeButton/easy-button-src.min.js"></script>
<link href="/rmarkdown-libs/PopupTable/popup.css" rel="stylesheet" />


<div id="por-campoambiente.com" class="section level3">
<h3>Por: CampoAmbiente.com</h3>
<p>Nuestro objetivo es mostrar una manera de trabajar layers SIG del tipo Shapefile (Vectoriales) y Tiff (Raster) en R para realizar análisis estadísticos que sean útiles en estudios agro ambientales.</p>
<p>Trataremos diferentes aspectos como:</p>
<ul>
<li>Importar layers Shapefile y Raster de Sistemas de Información Geográfica (SIG) a R.</li>
<li>Crear gráficos con ellas (plotearlos).</li>
<li>Conocer su proyección cartográfica.</li>
<li>Reproyectarlas.</li>
<li>….</li>
</ul>
<p>Emplearemos las aplicaciones R y RStudio y, datos espaciales o layers como: Partes de aguas, Modelos digital de elevación y una capa de muestreo de suelos con datos atributivos de los mismos. Todos pertenecientes a la cuenca hidrográfica del río Canoabo en Venezuela.</p>
<p><strong>Descargo:</strong> Por supuesto que existe una gran cantidad de formas y maneras de trabajar layers de SIG en R. Esta es solo una de esas formas, la que nosotros empleamos. Si conocen otra manera de hacerlo diferente a la mostrada, para nosotros seria un gusto y un valioso aporte recibir sus ideas y opiniones. Con esto en conjunto se podria incrementar nuestro aporte a la comunidad de R-SIG.</p>
</div>
<div id="iniciamos-procedimientos" class="section level3">
<h3>Iniciamos procedimientos:</h3>
<p>Iniciamos nuestras aplicaciones <strong>R</strong> y <strong>RStudio</strong>. En la realidad solo necesitamos abrir RStudio, ya que R viene implícita y comencemos:</p>
<ol style="list-style-type: decimal">
<li>Estableceremos nuestro directorio de trabajo, donde ubicaremos toda nuestra información y crearemos los objetos nuevos:</li>
</ol>
<pre class="r"><code>setwd(&quot;C:/Sevilla/rsig/content/post&quot;)</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Verificamos que efectivamente nos ubicamos en el directorio de trabajo deseado:</li>
</ol>
<pre class="r"><code>getwd()</code></pre>
<pre><code>## [1] &quot;C:/Sevilla/rsig/content/post&quot;</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Activamos las librerías o paquetes necesarios que contienen las funciones a <code>emplear</code>:</li>
</ol>
<pre class="r"><code>library(raster)</code></pre>
<pre><code>## Loading required package: sp</code></pre>
<blockquote>
<p>Si desea conocer mas de las funciones del paquete Raster puede dirigirse a la pagina CRAN-R en la seccion de paquetes, aqui les dejamos un enlace directo. <a href="https://cran.r-project.org/web/packages/raster/index.html">Raster</a></p>
</blockquote>
<ol start="4" style="list-style-type: decimal">
<li>Importamos los Layers Shapefile y Raster originados en SIG y creamos objetos R:</li>
</ol>
<p><strong>Layers Shapefile:</strong></p>
<pre class="r"><code>perimetro &lt;- shapefile(&quot;C:/Sevilla/Canoabo1/cuenca1.shp&quot;)</code></pre>
<p>Como observo creamos un objeto R llamado <strong>perimetro</strong> empleando la función <code>shapefile</code> e indicamos en que directoria se encuentra el layers Shapefile. Si realizaste el paso previo de establecer el directorio de trabajo (<code>setwd</code>), entonces bastaría solo colocar el nombre del layers Shapefile con su extensión shp, en nuestro caso seria <em>cuenca1.shp</em>.</p>
<p><strong>Layers Raster</strong></p>
<pre class="r"><code>DEM &lt;- raster(&quot;C:/Sevilla/Canoabo1/MDE3.tif&quot;)</code></pre>
<p>Como observo creamos un objeto R llamado <strong>DEM</strong> mediante la función <code>raster</code> e indicamos en que directoria se encuentra el layers Raster (tif). Si realizaste el paso previo de establecer el directorio de trabajo (<code>setwd</code>), entonces bastaría solo colocar el nombre del layers Raster con su extensión tif, en nuestro caso seria <em>MDE3.tif</em>.vemos</p>
<p>5.- Observemos nuestros objetos R recién creado en el directorio o en la memoria de R con la función <code>ls</code>:</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>## [1] &quot;DEM&quot;       &quot;perimetro&quot;</code></pre>
<ol start="6" style="list-style-type: decimal">
<li>Graficamos nuestros objetos R recién creados (Modelo digital de elevación - DEM y el perímetro)</li>
</ol>
<pre class="r"><code>plot(DEM, main=&quot;Modelo Digital de Elevacion (msnm)&quot;)
lines(perimetro, col=&quot;blue&quot;)</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-7-1.png" width="672" /> Como se ve en la Figura anterior, la función <code>plot</code> nos permite graficar el objeto R que representa el modelo digital de elevación <strong>(DEM)</strong>, mostrando las alturas del terreno con respecto al nivel medio del mar. Ademas adicionamos el objeto R llamado <strong>Perimetro</strong>, que no es mas que el limite de la cuenca.</p>
<ol start="7" style="list-style-type: decimal">
<li>Observemos las estadísticas básicas de los datos del Modelo digital de elevación:</li>
</ol>
<pre class="r"><code>summary(DEM, maxsamp = ncell(DEM))</code></pre>
<pre><code>##                 MDE3
## Min.        133.4520
## 1st Qu.     360.2462
## Median      561.6935
## 3rd Qu.     836.0443
## Max.       1702.2994
## NA&#39;s    1893998.0000</code></pre>
<pre class="r"><code>#Para calcular las estadíticas sobre todo el raster y no sobre
#una muetra aleatoria se empleo la opcion getOption = maxsamp.</code></pre>
<p>observamos que la altura minima es de 133.4 msnm y la zona mas alta llega a 1702.2 msnm, el valor de la mediana es de 561.6 msnm.</p>
<p>Otra manera de ver las estadisticas es empleando las funciones siguientes: <em>Numero de celdas del objeto DEM:</em></p>
<pre class="r"><code>ncell(DEM)</code></pre>
<pre><code>## [1] 3348059</code></pre>
<p><em>Valor minimo del objeto DEM:</em></p>
<pre class="r"><code>cellStats(DEM, min)</code></pre>
<pre><code>## [1] 133.452</code></pre>
<p><em>Valor maximo del objeto DEM:</em></p>
<pre class="r"><code>cellStats(DEM, max)</code></pre>
<pre><code>## [1] 1702.299</code></pre>
<p><em>Valor promedio del objeto DEM:</em></p>
<pre class="r"><code>cellStats(DEM,mean) </code></pre>
<pre><code>## [1] 636.4716</code></pre>
<p><em>Valor de la desviacion:</em></p>
<pre class="r"><code>cellStats(DEM,sd) </code></pre>
<pre><code>## [1] 324.6417</code></pre>
<ol start="8" style="list-style-type: decimal">
<li>Creemos histogramas con la funcion basica <code>hist</code>, primero uno basico:</li>
</ol>
<pre class="r"><code>hist(DEM, col = &quot;blue&quot;, border = &quot;gray&quot;, xlab=&quot;Valores&quot;, ylab=&quot;Frecuencia&quot;, main=&quot;Histograma de frecuencias&quot;)</code></pre>
<pre><code>## Warning in .hist1(x, maxpixels = maxpixels, main = main, plot = plot, ...): 3%
## of the raster cells were used. 100000 values used.</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>#los argumentos:
#col(color de las barras).
#border (color de la linea borde de las barras).
#xlab y ylab (etiquetas de los ejes x y y).
#main (titulo principal del grafico)</code></pre>
<p>Ahora podemos diseñar un histograma con una curva de distribuccion normal, pero para eso primero debemos convetir el objeto raster <em>DEM</em> en <strong>dataframe</strong> y luego diseñamos el hitograma, hagamolos:</p>
<pre class="r"><code>#Convertimos a dataframe:
DEM_df &lt;- raster::as.data.frame(DEM, xy = TRUE)

#Diseñamos el hitograma con la curva normal:
hist(DEM_df$MDE3, freq = FALSE, xlim=c(0,2000), col=&quot;green&quot;, border = &quot;black&quot;, xlab = &quot;Valores&quot;, ylab = &quot;Densidad&quot;, main=&quot;Histograma con curva de normalidad&quot;)
curve(dnorm(x, mean = mean(DEM_df$MDE3), sd = sd(DEM_df$MDE3)), add = TRUE, col=&quot;red&quot;, lwd =2)</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<pre class="r"><code>#argumentos:
#lwd (ancho de la linea).</code></pre>
<ol start="9" style="list-style-type: decimal">
<li>Observamos la proyeccion de los objetos R creados:</li>
</ol>
<pre class="r"><code>#Primero la del objeto R shape (Perimetro):
crs(perimetro)</code></pre>
<pre><code>## CRS arguments:
##  +proj=utm +zone=19 +ellps=intl +units=m +no_defs</code></pre>
<pre class="r"><code>#Segundo la del objeto raster (DEM)
crs(DEM)</code></pre>
<pre><code>## CRS arguments:
##  +proj=utm +zone=19 +ellps=intl +units=m +no_defs</code></pre>
<pre class="r"><code>#Otra forma de conocer la proyeccion es:
projection(DEM)</code></pre>
<pre><code>## [1] &quot;+proj=utm +zone=19 +ellps=intl +units=m +no_defs&quot;</code></pre>
<p>Observemos que ambos objetos R poseen: Proyección UTM Huso 19 Norte, unidad metros, elipsoide internacional 1924.</p>
<ol start="10" style="list-style-type: decimal">
<li>Si deseamos cambiar de proyección (re proyectar) se procede como a continuación se describe un ejemplo para cada tipo de objeto R creados (shape o raster). Vamos a reproyectar al sistema de coordenadas geográficas con el datum WGS84:</li>
</ol>
<pre class="r"><code>#En el caso de desear reproyectar un objeto R vectorial shape puede hacerlo de la siguiente forma
#aqui cambiamos solo del datum de &quot;La Canoa&quot; a &quot;WGS 84&quot;:
perimetro_gw &lt;- spTransform(perimetro, CRS(&quot;+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;))

library(mapview)
mapView(perimetro_gw)</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"minZoom":1,"maxZoom":100,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",1,"CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter",2,"CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap",3,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",4,"Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenTopoMap",5,"OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[-68.3079774654211,-68.3062897537888,-68.3049659113537,-68.3043822567713,-68.3037081519252,-68.3029941389057,-68.3020883543858,-68.3011918100804,-68.300080332303,-68.2990679798134,-68.2980276374008,-68.2976065024611,-68.297134412528,-68.2969006060508,-68.2965782516317,-68.2955446033566,-68.2948488308607,-68.2944813242186,-68.2942831014668,-68.2941288040905,-68.2939953620621,-68.293817604665,-68.293640269357,-68.2935892672766,-68.2935360459334,-68.2934413410886,-68.293062473115,-68.2925526405265,-68.2921165135149,-68.2917406399715,-68.2916135817142,-68.2915679850364,-68.2912285822286,-68.291102009264,-68.2910339745931,-68.2911126793939,-68.2910773341763,-68.2910117415097,-68.2908612786023,-68.290677726854,-68.2905504522523,-68.290333608169,-68.2899539752325,-68.2896829558417,-68.2895202590323,-68.2892628281222,-68.2890196703556,-68.2886009982085,-68.2885066329264,-68.2882766083162,-68.2878030984033,-68.2875320334453,-68.2872421759945,-68.2866820776325,-68.2865609743396,-68.2865048950984,-68.2864722424747,-68.2864615878361,-68.2864320762544,-68.2864133601692,-68.2863615612709,-68.2862800254525,-68.286157972622,-68.2860546845274,-68.2859394003022,-68.285713375851,-68.2854344212836,-68.2851090602418,-68.2844794468938,-68.2840368908275,-68.2835017479799,-68.2825242470686,-68.2811577909571,-68.2801360975597,-68.2788011507238,-68.2767350531581,-68.2763936660744,-68.2760209311518,-68.2752614271018,-68.2749081645302,-68.2744346140903,-68.2739925032026,-68.2737826978392,-68.2735749254303,-68.2733888929327,-68.273157368369,-68.2717405223096,-68.2712126632071,-68.2709572428548,-68.270736014409,-68.2704164615459,-68.2699687709656,-68.2694994267451,-68.2689471558585,-68.2686495665069,-68.2683740034999,-68.2681755073818,-68.2680751525296,-68.2678768764194,-68.2677905351524,-68.2673462869849,-68.2671228253457,-68.2669065806441,-68.2666575220316,-68.2665483179086,-68.2664197364819,-68.2662334229102,-68.2659318948748,-68.2655652770509,-68.2651989414765,-68.2648055193867,-68.2643851419723,-68.2642090634917,-68.2638829153946,-68.2634786459588,-68.2629603788947,-68.2627026016851,-68.2624617548396,-68.262024556214,-68.261474867619,-68.2610973842403,-68.2607612365381,-68.2602424145903,-68.2596447735107,-68.2589075920131,-68.2582307614544,-68.2575893829593,-68.2568137578669,-68.2564188276385,-68.2560920811845,-68.2557797311281,-68.2554647829265,-68.2551820532832,-68.2549686688476,-68.2548027612127,-68.2543971484611,-68.2541399239488,-68.2540049210576,-68.2533326805955,-68.253042013057,-68.2529440686947,-68.2528705554804,-68.2528212404863,-68.2527074637205,-68.2525257868979,-68.2523005552924,-68.2518257502449,-68.2514837337012,-68.2512176896912,-68.2510873680139,-68.2506186154869,-68.2501170831156,-68.2480722823649,-68.2473906620443,-68.2470070884555,-68.2458514949651,-68.2451378999327,-68.2448692551427,-68.2445756975058,-68.2442732563003,-68.2440939292025,-68.2436919751724,-68.243515487278,-68.2434484640894,-68.2434499447645,-68.2432751436657,-68.2430826642256,-68.2428831590627,-68.2425580972802,-68.2422186358421,-68.2419477998521,-68.2417175598122,-68.2414607093079,-68.2412989176639,-68.2410283122121,-68.2405072212122,-68.2401298690698,-68.2398340040358,-68.2393754026737,-68.2387206653059,-68.238231513997,-68.2378662824392,-68.2372412915823,-68.236780584498,-68.236373435739,-68.2360418985941,-68.2354072193339,-68.2350588912357,-68.2347934226331,-68.2346003711939,-68.2344246312103,-68.2341949263188,-68.2341010531767,-68.2340745993834,-68.2339127215616,-68.2336684725103,-68.2334262624634,-68.2332945697493,-68.2332366886837,-68.233105037792,-68.232802330089,-68.2326052101705,-68.2323064341808,-68.2317934407092,-68.2316846273225,-68.231675821246,-68.2317772380985,-68.2317058356423,-68.2314721902471,-68.2311002091138,-68.2306037338318,-68.2300317770385,-68.2295222624281,-68.2292183188017,-68.2288102150352,-68.2284616729214,-68.2282032554608,-68.2278409103848,-68.2273065337718,-68.2264947013071,-68.225903293117,-68.2253952864687,-68.2247568258304,-68.2241676656046,-68.2235835606719,-68.2231214784661,-68.222455631197,-68.2219248822414,-68.2213269800005,-68.2208923542884,-68.2205168881263,-68.2203094426114,-68.2202402428067,-68.2201898546086,-68.2201856189006,-68.2201127696102,-68.219972395222,-68.2196652779607,-68.219353394508,-68.2185169689098,-68.2168788032054,-68.215301654362,-68.2139123837103,-68.2136546136555,-68.2135564269753,-68.2136174513361,-68.2135447042787,-68.2133767091466,-68.2131475296851,-68.2129038494507,-68.2126795808423,-68.2123349251843,-68.2119422635428,-68.2118343224078,-68.2115821409612,-68.2108849053784,-68.2097855877784,-68.2091069444329,-68.2085867538851,-68.2075559405913,-68.2069232734314,-68.2064070073186,-68.2055737491306,-68.205080452633,-68.2049801212564,-68.2048908463513,-68.2048916223874,-68.2049889817136,-68.2050584596688,-68.2053259563243,-68.2055100845141,-68.2059194990827,-68.206542800678,-68.2069010812378,-68.207364376446,-68.2081128943158,-68.2097082438503,-68.2106602673695,-68.2116251830848,-68.2125656403462,-68.2143335832136,-68.2169187373975,-68.2174762818341,-68.218149033834,-68.2185652764142,-68.2188261098513,-68.2191446735288,-68.219886327851,-68.2205927730143,-68.2222155933381,-68.2229568266188,-68.2233060444543,-68.2235153148941,-68.2235933674971,-68.2235476908864,-68.2235280851491,-68.2234886173428,-68.223422051492,-68.2234570761836,-68.2236302922087,-68.2239595570465,-68.2241783229042,-68.2244750047926,-68.2247244870279,-68.2251366043368,-68.2265972959721,-68.2274605694994,-68.2285289451855,-68.2291961949602,-68.2295167990356,-68.229704473978,-68.2298148583047,-68.2297753055167,-68.2296899746013,-68.2295814716102,-68.2297817837543,-68.230595102075,-68.2307981655258,-68.2311168414968,-68.2314649951941,-68.2322063335714,-68.2324352522661,-68.2326965192143,-68.2329466298706,-68.2332728732603,-68.2335115450687,-68.2339230637808,-68.2347077208965,-68.2354067788931,-68.2378018953528,-68.2387974346015,-68.2398784306431,-68.2403487259075,-68.2405897886257,-68.2408857398908,-68.2412565698313,-68.2416271794508,-68.24207197533,-68.2427530913434,-68.2433715820489,-68.2437696291678,-68.2441863609757,-68.2445446654325,-68.2451013298836,-68.246254021336,-68.2479430194444,-68.2490565005459,-68.2502306822335,-68.2510137650397,-68.2519042351416,-68.2524489274973,-68.2529969216051,-68.2541290677326,-68.2554691956258,-68.2559279826275,-68.2562922444463,-68.257048340085,-68.2576421400279,-68.2580288063456,-68.2583629845902,-68.2585409493186,-68.2586722625575,-68.2588851442007,-68.2590872661176,-68.2594058777295,-68.2598494126766,-68.2603350274943,-68.2609121001138,-68.2612865515048,-68.2617977346674,-68.2621567157608,-68.2625821862341,-68.2632544550988,-68.2637951975575,-68.2643640831509,-68.264829836941,-68.2657767007541,-68.2666592460983,-68.2678887245159,-68.268766732002,-68.2692631781923,-68.2698394521158,-68.2702825034895,-68.2706238573601,-68.2709272435562,-68.2712702618487,-68.2716839673697,-68.2720842486397,-68.2727997008343,-68.2736540094054,-68.2740342114854,-68.2744294417797,-68.2747267104914,-68.2748979410027,-68.2750028463487,-68.2750884128128,-68.2752216356605,-68.2753922916712,-68.2756289097995,-68.2761407676587,-68.2764713917249,-68.2768551792332,-68.2773428565005,-68.2778830572633,-68.27840378869,-68.2787796777583,-68.2792385282002,-68.2799482609705,-68.2805454039746,-68.2809240811878,-68.2811891521517,-68.2814355592183,-68.2821843808975,-68.2829045181944,-68.2836106948225,-68.2841073044499,-68.2844457769875,-68.2849117175979,-68.285148300289,-68.2853662180438,-68.2858213250679,-68.2862770050084,-68.28665218525,-68.2887232442148,-68.2894061803499,-68.290063528345,-68.2905878661673,-68.2911231369444,-68.2916354162116,-68.2920616101489,-68.2924408023135,-68.2929143005934,-68.2935588409795,-68.294221889499,-68.2948018538663,-68.2959589061701,-68.296895841485,-68.2978514886721,-68.2984006348795,-68.2990963393391,-68.3002799775727,-68.3010982846471,-68.3019380524218,-68.3025808831843,-68.3036331760209,-68.3045039920756,-68.3053719611488,-68.3065424022328,-68.3084522064858,-68.3094074146933,-68.310017135986,-68.3110523423666,-68.312176467512,-68.3133024957158,-68.31428710497,-68.3150211274989,-68.3168992656036,-68.318158078582,-68.3194728808364,-68.3200553716207,-68.320538711116,-68.3210036591384,-68.3215162564822,-68.3220758184219,-68.3224925254242,-68.3236109316781,-68.3242271231489,-68.3247227635954,-68.3253160203855,-68.3257409345778,-68.3260910905988,-68.3263277068789,-68.3263932522984,-68.3263640997309,-68.3264291881218,-68.3265044572871,-68.3266035453503,-68.3269656411022,-68.3279459792409,-68.3280078878049,-68.3280388396398,-68.3280384837399,-68.327945745244,-68.3280432405403,-68.3281215495952,-68.3282593491829,-68.328270545928,-68.3282179203404,-68.3281266909781,-68.3279326745871,-68.3276581406274,-68.327039389059,-68.3267756303101,-68.3265014303224,-68.3264240137509,-68.3263852768594,-68.3263605875046,-68.32637999365,-68.3262671249624,-68.3262821775998,-68.3262398088609,-68.3262358246671,-68.3261184689967,-68.3259653889341,-68.3259129490545,-68.3259440896261,-68.325998757991,-68.3260847285954,-68.3262950763029,-68.3268043876649,-68.327768364936,-68.3279757352663,-68.3280792176546,-68.3280974659001,-68.3280158279214,-68.3278970406371,-68.3278490335703,-68.3279144433406,-68.3280085920679,-68.328178313652,-68.328479968585,-68.3286298012091,-68.3286557606188,-68.3286357552662,-68.3285783582674,-68.328510462579,-68.3283626648054,-68.3276230365734,-68.3273888553043,-68.3271791780365,-68.327159903704,-68.3272067998365,-68.3272823926938,-68.3275416022974,-68.3280988936777,-68.3282639285761,-68.3283576534908,-68.3283853248155,-68.3283314954959,-68.3282708958318,-68.3280061105165,-68.3279878315164,-68.3282096503103,-68.3286827084255,-68.3292119029847,-68.3298450719955,-68.3302920800116,-68.3312357944245,-68.3315782605606,-68.3319348710686,-68.3321455213638,-68.3325021187673,-68.3327482911081,-68.3330431901282,-68.3333144788719,-68.3334371509882,-68.3335601370805,-68.3335650953259,-68.3335549063056,-68.3334749042004,-68.3332690445698,-68.333235890625,-68.3332299969246,-68.3330619158079,-68.3331591342035,-68.333364180948,-68.333583667656,-68.3338734622302,-68.3343298242624,-68.334524130897,-68.3352403992051,-68.3355602226292,-68.3358648954394,-68.3363006292903,-68.3367218700501,-68.3371404056485,-68.3373663134347,-68.3374528103349,-68.3374476063419,-68.337560040038,-68.3379196257447,-68.3382106671629,-68.3384608315705,-68.3386770828592,-68.3387694991655,-68.3388266314453,-68.3389137266162,-68.3389988267906,-68.3391701069483,-68.3392661290471,-68.3392975306782,-68.3392572053781,-68.3391197522692,-68.3389068653599,-68.3386846978756,-68.3385072544101,-68.3382831131038,-68.3379188595435,-68.3376350299185,-68.3374586532364,-68.3374219271785,-68.3374177913061,-68.3374387203036,-68.3374671224578,-68.3376489003066,-68.3378950601282,-68.3382149518796,-68.3385063981943,-68.3387379568644,-68.3390338786242,-68.3391495988457,-68.3391242304589,-68.3390310746617,-68.338896651211,-68.3388772207023,-68.3388956064781,-68.3389685907921,-68.3390695426624,-68.3390915124511,-68.3390533429771,-68.3389929713493,-68.3388929801595,-68.338722950153,-68.3386388918582,-68.3383911216396,-68.3378969253039,-68.3377528298289,-68.3376766200178,-68.3377507968922,-68.3377694005175,-68.3379539802156,-68.3379952051659,-68.337956503123,-68.3378906659573,-68.3377750603653,-68.3375818723896,-68.3369081321373,-68.3366563837843,-68.3363505170643,-68.3361619082018,-68.3360690099446,-68.3360871557498,-68.3361625876534,-68.3362380815947,-68.3365267285022,-68.3367710568955,-68.3369262372863,-68.3370077974291,-68.3370634562587,-68.3371220005835,-68.3372281048232,-68.337251832046,-68.3373748133397,-68.3373505952367,-68.3372511972821,-68.3369742878946,-68.3368086008723,-68.3367184974846,-68.3366947252743,-68.3369506264975,-68.337015986456,-68.3369946694933,-68.3368752811056,-68.3366891873852,-68.3363722611369,-68.3361958076264,-68.3360721878746,-68.3358451079919,-68.3354551061655,-68.3352887567714,-68.3351491271931,-68.3348299292486,-68.3341569258975,-68.3335431812163,-68.3331573924174,-68.3328827101118,-68.3327818725999,-68.3327382806829,-68.3326867914023,-68.3325241729302,-68.3324513732881,-68.332458077276,-68.3325616784475,-68.3328747555248,-68.3329950535433,-68.3330316649679,-68.3329814320797,-68.3328712000937,-68.3327372187033,-68.332631013915,-68.332347141273,-68.331953112839,-68.3317286118542,-68.3316107968346,-68.331692618419,-68.3317118458929,-68.3317302113125,-68.3315877174279,-68.3315731897886,-68.3316708008518,-68.3318451404262,-68.3323157949531,-68.332618678551,-68.3327373280239,-68.3326776936209,-68.3326028281304,-68.3324754637448,-68.3322035302493,-68.3320742983612,-68.3317402549897,-68.3316128403604,-68.3315117543217,-68.3313142820136,-68.3309551724309,-68.3304116180918,-68.3299087507816,-68.3294436484426,-68.3290260369718,-68.3287901262286,-68.3285675314263,-68.3282494002539,-68.3278791941841,-68.3275471309351,-68.3270940610411,-68.3267166209015,-68.3249897913331,-68.3241128523178,-68.3237367490051,-68.3232005358798,-68.3228389511693,-68.3223094810755,-68.3220104143366,-68.3216707828882,-68.3207824400377,-68.3196023288974,-68.3189515783061,-68.3183295429091,-68.3167004509261,-68.3160167351837,-68.3151701081217,-68.3141265813882,-68.3121324841305,-68.3112313605277,-68.3106582581204,-68.3102913701305,-68.3099796371624,-68.3097083117115,-68.3094715352623,-68.3089691469959,-68.3086523228645,-68.3085617106499,-68.3085153300683,-68.3086102259365,-68.3087219766652,-68.3089223819704,-68.3090632511498,-68.3090641814619,-68.308993630113,-68.3088852328641,-68.3087363291706,-68.3084506475773,-68.3082759828305,-68.3079774654211],"lat":[10.4045348926942,10.4027349552055,10.4013755448039,10.4009334025135,10.400601847067,10.4002453335826,10.3998624007899,10.3994331372086,10.3988677479959,10.3984009210957,10.3976864612146,10.3973384906639,10.397054843605,10.3969333728489,10.3968365776164,10.3967065677012,10.3966259069943,10.3965516194207,10.3963477022847,10.3961597080238,10.395837236082,10.3954185782858,10.3948122666715,10.3938806636773,10.3936827177371,10.3933987662278,10.39279314084,10.392034615583,10.3912513823732,10.3905858484454,10.3902193022628,10.3899320673784,10.388537473444,10.3879561427315,10.3874925080637,10.3870212843593,10.3867453765463,10.3864648801195,10.3860982820108,10.3857214366824,10.3854521083756,10.3851554512371,10.3846425180709,10.3843197403844,10.3840627683096,10.3835376699109,10.3830126029497,10.3818405298938,10.381409619543,10.3808845812331,10.3799814328039,10.3794291722641,10.3786044315168,10.3766135972223,10.3761430613338,10.3759496299391,10.3757472069671,10.3756623995933,10.3755854634872,10.375531160345,10.37546434878,10.3754200801437,10.3753689387779,10.3753506220971,10.3753356700726,10.3753159500473,10.3752248938518,10.3749551231998,10.3744224107004,10.3742258572684,10.3740754452407,10.373642563277,10.3727928036923,10.3722162491218,10.3713235938033,10.370375027649,10.3701289522413,10.3698613274033,10.3694718726083,10.3694258581387,10.3695559215796,10.3699155360392,10.3700439330934,10.3700332896269,10.3700023471237,10.3698944312782,10.3688828663854,10.3683051425681,10.3681632577003,10.3680474504637,10.3679902031957,10.3680468397671,10.3680864698168,10.3679450392828,10.3677714042993,10.3674542525603,10.3671372760236,10.3668408708106,10.3661836304422,10.3657527340142,10.3638378775416,10.3632111014847,10.3626725165277,10.362252553463,10.3620804767446,10.3618947904609,10.3617417553876,10.3615466308589,10.3613570097155,10.3610464311562,10.3606012673199,10.3602103028172,10.3600753772124,10.3599129775449,10.3597142245126,10.3591975548348,10.3588476567761,10.358581450277,10.3583068802929,10.3580467474166,10.3578684011033,10.3578337157988,10.3580439167675,10.358515068181,10.3590932892107,10.3594952982242,10.3598713872823,10.3602878608635,10.3604881673436,10.3605812388406,10.3606212124585,10.3605526572069,10.3603779145842,10.3600880271116,10.3597575535243,10.3589223469262,10.3583429639961,10.3579797788588,10.3564408174849,10.3557630077415,10.3554202562266,10.3551261704411,10.3549790983947,10.3548137896201,10.3546358882878,10.3545302340516,10.3542329549142,10.3540275497532,10.3538008425528,10.3536321034712,10.3529504863157,10.3523716625138,10.3507221006633,10.3500230257249,10.3495337782254,10.3481971532177,10.3475059123433,10.3471774546561,10.3467641552444,10.3462468341526,10.345806671721,10.3451308548902,10.3446974815182,10.3443197567287,10.3437014087398,10.3430408205039,10.342373408029,10.3420179808026,10.3416532149017,10.3413426760456,10.3409791675349,10.3405874933028,10.3401053210214,10.3394967628977,10.3390382972381,10.3385385455248,10.3383206116806,10.3381605220527,10.3380237875515,10.3377950236789,10.3375451714244,10.3372730025972,10.3367820440284,10.3363366908536,10.3359321597779,10.33541815468,10.3346875167014,10.3342729496712,10.3338201439488,10.3329266382978,10.3324276972095,10.3318212361478,10.331458142058,10.3310680774534,10.3305024731064,10.3300101516702,10.3293833125755,10.3288460407061,10.3279992036242,10.3274449751936,10.3268168615501,10.3261923900601,10.3255914159622,10.3248271485785,10.3245069751288,10.3241373003285,10.3232716246811,10.3228238005416,10.3224343731325,10.3221305296274,10.3218535196728,10.3216339814559,10.3215558962169,10.3216749974214,10.3216740229991,10.3215906683166,10.3215312679182,10.321490836282,10.3213098181983,10.3211530044356,10.3209537604862,10.3204935842598,10.3196973539743,10.3192810683307,10.3191315772831,10.319264988269,10.3193979080671,10.3193694993522,10.319260666802,10.3191375313943,10.3188641900249,10.3185042102165,10.3180959552548,10.3165380907634,10.3159400790733,10.3156233807069,10.3153777368784,10.3151644730179,10.3150325888712,10.3146733487222,10.3140103377777,10.3133723367623,10.3126974811384,10.3123814623417,10.3119279185269,10.3107965003595,10.3086010160389,10.3079890412466,10.3074232653895,10.3069512803276,10.3064770815127,10.3059867632522,10.3055223277361,10.3053208470367,10.3050557102695,10.3045102700122,10.3038485418318,10.3034026218693,10.3030430014321,10.3023791730466,10.3018090136694,10.3012515735435,10.3005599631682,10.2999483167275,10.2996733745562,10.2993136769208,10.2990039396873,10.2981868744862,10.2973358276445,10.2964943104557,10.2961251101936,10.2955880277,10.2946479034383,10.2942452159022,10.2938416545941,10.2932647031585,10.2915887727308,10.2908755283718,10.2902550081071,10.2898299908814,10.2891955872797,10.2881177574778,10.2879043215485,10.2874899445583,10.2871800782017,10.2869410541953,10.2866659950482,10.2860799533341,10.2854214768608,10.2839049346335,10.2830193171801,10.2825747607439,10.2821807384128,10.2817683145304,10.2813092461456,10.2806908480492,10.280260055538,10.2797082409274,10.2789204075137,10.2778649904679,10.2767070765465,10.2759275955512,10.2752579534536,10.2749872440074,10.2747214447185,10.2738985782551,10.27350385039,10.2730157812158,10.2727336263841,10.2725489954408,10.2723470918754,10.2720116124083,10.2716124721134,10.2707926983017,10.2696439104926,10.2689355981755,10.2681880436857,10.2679929583509,10.267659102242,10.26717044478,10.2662135829858,10.2659450787404,10.2657512600881,10.2656874159238,10.2657639265006,10.2659476221876,10.2661599868387,10.2666456681942,10.2671311461522,10.269050623852,10.2698940121962,10.2708009029925,10.2712587045859,10.2714005746829,10.2714996161178,10.2715490928155,10.2714516106049,10.2713554317301,10.2712360645533,10.2710532448582,10.270936606509,10.2708821857458,10.2709191945768,10.2710572744075,10.2710995201997,10.2712017888719,10.2711738461018,10.2710578648335,10.2710167166202,10.2709339875493,10.2708255895747,10.2707691989067,10.2708124998548,10.2707488815402,10.2707691517122,10.2706998990503,10.2704845850194,10.270118548005,10.2697407317023,10.2693560122015,10.2691495465215,10.2688807993817,10.268383887494,10.2680960841782,10.2677780244042,10.2674839886647,10.2672544838625,10.2669607508668,10.2666789906131,10.266497020602,10.2664876628284,10.26659941403,10.2665975494147,10.266465383143,10.2662552785492,10.2659748513029,10.2656830769938,10.2655652441734,10.2654651483809,10.2653348645169,10.2653552002028,10.2654051064947,10.2653167970006,10.2652791287905,10.2653736379975,10.2656061512434,10.265872736385,10.2660205932963,10.2661013287945,10.2661032417246,10.2660475696253,10.265908277051,10.2656828505637,10.2654209677032,10.2652143288679,10.2649793854381,10.2648677679248,10.2648579748215,10.2649523306533,10.2652225206929,10.2653860433038,10.2655101181236,10.265623119273,10.2657271929259,10.2658606142548,10.2659451033879,10.2659359485369,10.2660234384143,10.2661841568362,10.2662980415763,10.2664297616022,10.2664868300173,10.2664500514957,10.2664799047771,10.2666272931172,10.2668307405968,10.2670598392368,10.2674520041928,10.2675644406091,10.2676022256197,10.2674822685937,10.2673611817091,10.2672546131723,10.2667278437663,10.2665507274085,10.2663317266517,10.2661305211417,10.265888642123,10.2657201917791,10.2657686008583,10.2659096045241,10.2659863770876,10.2661370011082,10.2661768791665,10.2661103122301,10.2659873430941,10.265788152251,10.2656432611688,10.2655766210205,10.2655589062081,10.2655422420977,10.2655677447485,10.2656961634162,10.2658478965399,10.266393907588,10.2669406570516,10.2677474043514,10.268553665628,10.2694801981332,10.269804414235,10.2699662370258,10.270245400088,10.2703122215056,10.2702908669806,10.2704817367459,10.2706969448245,10.2715057947616,10.2718407993127,10.2721487854592,10.2722393135844,10.2722595442281,10.2720728606647,10.2717540117032,10.2716240476166,10.2715785690898,10.2716555135589,10.2717325388935,10.2718726182165,10.2722695154916,10.2726604095599,10.273050017351,10.2734258234239,10.2737357071102,10.2740273066669,10.2745531083035,10.2748528379724,10.2752238364114,10.2759062587974,10.2775915553443,10.277732991862,10.2779399312174,10.2781083698533,10.2798626600988,10.2807186245489,10.2812014956095,10.2818902346561,10.282263311433,10.2825899068335,10.2830893833661,10.2836157778442,10.2841634839289,10.2852836206699,10.2855928200794,10.2859811300612,10.2861550606766,10.2863901167858,10.2867292048403,10.2880744980492,10.2898943110711,10.2911389836329,10.2925474539339,10.2944251465689,10.2959363326514,10.2967996883106,10.2973048964216,10.2976915798984,10.2980183977912,10.2983871080236,10.29877755602,10.2992194968952,10.3003056159922,10.3007559714614,10.3012117633921,10.3014887649708,10.3017678200041,10.3020705375646,10.3023700107486,10.3027465911234,10.3030282722281,10.3034695056914,10.3044084171385,10.3053481436751,10.3062966567024,10.306849411944,10.3075400060865,10.3077976108004,10.308052788587,10.3090901471318,10.3094378426823,10.3098036764379,10.3100105110865,10.3102355708713,10.3103860798032,10.3108862839017,10.3118596412745,10.312359649098,10.3128425517096,10.3132518369146,10.3136044295601,10.3139197028233,10.3147014327401,10.3149772277061,10.3156164006068,10.3164799272348,10.3169806911844,10.3174387124697,10.3179381738462,10.3191904216754,10.319733753086,10.3203370280134,10.3208642597205,10.3222871201584,10.3227522494868,10.3233893097804,10.3238544906327,10.3241486644679,10.3245649289801,10.3249210352395,10.3251516287673,10.3254657324434,10.3264555932593,10.3281037402921,10.3309004939846,10.3326501032522,10.3331058807937,10.3335878818305,10.3339896497284,10.3343452137363,10.3352957449003,10.3357291132491,10.3374081977825,10.3384160996048,10.3395720606171,10.3402941934606,10.3408512483635,10.3421544029064,10.3430377591676,10.3437105625594,10.3451032823264,10.345657440372,10.3459487084994,10.3459888726626,10.3461951307177,10.3465132348362,10.3468141277325,10.3476089605813,10.3482704602509,10.3485215977018,10.348780825198,10.3489958101795,10.3492660552781,10.3494411943331,10.3496568307604,10.3499118784875,10.3502369956926,10.3504672456995,10.3506442678895,10.350943091849,10.351272603272,10.3515378991389,10.3516293910392,10.3516960798185,10.351787690347,10.3518544460751,10.3522798739539,10.3530366596734,10.3542943917129,10.3555068465365,10.3564229969389,10.3574082376031,10.3580313600645,10.3584235784378,10.3587466993639,10.3591488678292,10.3594314434882,10.359647399562,10.3602331289697,10.3608211767336,10.3612338405815,10.3614688983093,10.3619469597742,10.3625345946069,10.363037300739,10.3639211491891,10.3650160571713,10.3662913313773,10.3666753915992,10.3670822007914,10.3676430624789,10.3677550164827,10.3684811528738,10.3686948949793,10.3689107334249,10.3692712150379,10.369680203943,10.3700619018491,10.3711966262337,10.3720055168602,10.3727589028426,10.3734040064191,10.3738718252444,10.3742008267948,10.3744361184551,10.3746420182515,10.3752892379019,10.3758368853144,10.3764273061041,10.3770062703021,10.3774144814668,10.377808002586,10.378389278292,10.3790506467072,10.3805645871342,10.3809500241938,10.38125052156,10.3818038755402,10.3821347582635,10.3826297137465,10.3830739355012,10.3838216982584,10.3842321902834,10.3845950239741,10.3848988711615,10.3851596229791,10.3854653226212,10.3857566164454,10.3861712395543,10.3869157427744,10.3883008790172,10.3892128153252,10.3896375788074,10.390474587643,10.3923124486569,10.3939322521714,10.394936428101,10.3957757875589,10.396211934747,10.3965758516574,10.3971635828676,10.3990002390649,10.3996749710081,10.4000129919423,10.4004269553195,10.4014054532841,10.4020229337521,10.4022581452176,10.4025225678655,10.40307965423,10.404603232547,10.4048765821692,10.4051993017382,10.4055048345037,10.4058299381339,10.406192569245,10.4066460533752,10.4070010571251,10.4074928444187,10.4079153382044,10.408570973145,10.4091171876952,10.4095595602146,10.4100059418754,10.4104112768924,10.4109993619635,10.4119250822763,10.412226758353,10.4125147594752,10.412857851458,10.4132181977313,10.4153789344215,10.415957462316,10.4162376045143,10.4164678052324,10.4167236685013,10.4169904501016,10.417187227608,10.4173456478926,10.4174566878748,10.4175048028495,10.4174670309215,10.4172493158475,10.4168200958781,10.4167097442192,10.4165821810333,10.4165983441871,10.4167111442232,10.4166844237104,10.4166101497524,10.4163829254558,10.4161956356862,10.4160192947023,10.4159655300517,10.4159241141737,10.4158917082475,10.4158632016693,10.4157973819709,10.4156547512477,10.4151979662073,10.4150642430915,10.4150172150023,10.4151947230623,10.4155985379638,10.4156678188915,10.4156044104238,10.4154962272144,10.4152321601,10.4147680898259,10.4141718309865,10.4133703870506,10.4128270861891,10.4124911463061,10.4117743395972,10.410424784716,10.4089396117495,10.4076411544431,10.4069326646169,10.4065098773954,10.4061389368224,10.4058425244712,10.4055324592754,10.4051101840636,10.4048317157597,10.4045348926942]}]]],null,"perimetro_gw",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>0&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>AREA&emsp;<\/b><\/td><td align='right'>145079104&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>PERIMETER&emsp;<\/b><\/td><td align='right'>55206.09&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>CUENCA_&emsp;<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>CUENCA_ID&emsp;<\/b><\/td><td align='right'>0&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POLYGON&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"0",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":2,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-68.3392975306782,10.2648579748215,-68.2048908463513,10.4175048028495,"Zoom to perimetro_gw","<strong> perimetro_gw <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"perimetro_gw",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["perimetro_gw"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"perimetro_gw","extra":null,"layerId":null,"className":"info legend","group":"perimetro_gw"}]}],"limits":{"lat":[10.2648579748215,10.4175048028495],"lng":[-68.3392975306782,-68.2048908463513]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      //map.on('click', function (e) {\n      //  var txt = document.querySelector('.lnlt').textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = 'mycustom-clipboard-textarea-hidden-id';\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log('Creating textarea');\n      var textarea = document.createElement('textarea');\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = 'fixed';\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textarea.style.width = '1px';\n      textarea.style.height = '1px';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = 'none';\n      textarea.style.outline = 'none';\n      textarea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = 'transparent';\n      document.querySelector('body').appendChild(textarea);\n      console.log('The textarea now exists :)');\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log('The textarea already exists :3')\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand('copy');\n      if(!status){\n      console.error('Cannot copy text');\n      }else{\n      console.log('The text is now on the clipboard');\n      }\n      } catch (err) {\n      console.log('Unable to copy.');\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
<pre class="r"><code># una manera de estar seguro de la similitud en extension de dos capas. especificamente en
# el estudio de Cuencas, es cortar la capa raster con la capa vectorial (perimtetro), como 
# se muestra a continaucion:
DEM1 = crop(DEM, perimetro)
DEM2 = mask(DEM1, perimetro)

# y aqui continuamos con un ejemplo de como reproyectar una capa del tipo raster, en este caso, solo cambiamos del datum &quot;La Canoa&quot; a &quot;WGS 84&quot;:
DEM2_gw = projectRaster(DEM, crs = &quot;+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;, method=&#39;bilinear&#39;)</code></pre>
<p>Ahora vamos a crear un objeto R a partir de una capa shape que contiene la información de perfiles de suelos.</p>
<pre class="r"><code># Creamos el objeto R vectorial (shape) de perfiles de suelos:
suelos &lt;- shapefile(&quot;C:/Sevilla/Canoabo1/suelos8.shp&quot;)</code></pre>
<pre><code>## Warning in .local(x, ...): .prj file is missing</code></pre>
<pre class="r"><code># Vemos las principales carataeristicas del obejto recioen creado:
suelos</code></pre>
<pre><code>## class       : SpatialPointsDataFrame 
## features    : 49 
## extent      : 572839, 585510, 1135243, 1151455  (xmin, xmax, ymin, ymax)
## crs         : NA 
## variables   : 120
## names       : ID, NUMERO,             NOMBRE,   ESTE,   NORTE, ALTURA_C, DIST_PAR, SB, ALTURA,     PEDREGO, MUESTRA, H1_PROF, H2_PROF,  H3_PROF,  H4_PROF, ... 
## min values  :  1,      1, Afloramiento Verde, 572839, 1135243,        0,        0,  0,   1063,    Excesiva,      Si,  0 - 10, 10 - 20,     &gt; 22,    &gt; 100, ... 
## max values  : 49,      9,        Valle Hondo, 585510, 1151455,     1270,        1,  1,    963, Pedregoso (,      Si,  Arriba,   Abajo, 80 - 100, 80 - 100, ...</code></pre>
<pre class="r"><code># Le asignamos la proyeccion cartografica correspondiente, ya  que no la tenia en la capa original, pero nosotros la conocemos:
suelos@proj4string &lt;- crs(&quot;+proj=utm +zone=19 +ellps=intl +units=m +no_defs&quot;)</code></pre>
<p>Graficamos los tres objetos R creados en un solo gráficos:</p>
<pre class="r"><code>plot(DEM)
lines(perimetro, lwd=2)
points(suelos, col=&quot;blue&quot;, pch=19)
legend(&quot;topleft&quot;, &quot;pH &gt; 5.5&quot;, pch=19, col = &quot;blue&quot;)
legend(&quot;topleft&quot;, &quot;pH &lt; 5.5&quot;, pch=19, col = &quot;red&quot;)
text(labels(suelos@data$ID))</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<pre class="r"><code>#labels &lt;- rownames(suelos)</code></pre>
<p>Continuamos revisando algunas características del objeto R de perfiles de suelos:</p>
<pre class="r"><code># Observamos los 6 primeros registro de su base de datos:
head(suelos, 5)</code></pre>
<pre><code>##   ID NUMERO         NOMBRE   ESTE   NORTE ALTURA_C DIST_PAR SB ALTURA PEDREGO
## 1  1    1-1    Valle Hondo 581193 1136428      800        1  1    760  Ligera
## 2  2    1-2     La Mejiena 585510 1138812     1270        1  1   1283  Ligera
## 3  3    1-3 Las Mandarinas 577507 1137486      660        0  0    660  Ligera
## 4  4    1-4        El Cafe 576379 1137191      850        1  0    867  Ligera
## 5  5    2-1       Guineo C 581904 1140554      314        0  1    318  Ligera
##   MUESTRA H1_PROF H2_PROF H3_PROF H4_PROF H1_AREN H2_AREN H3_AREN H4_AREN
## 1      Si  0 - 12 12 - 30    &gt; 30    &lt;NA&gt;      54      40      40       0
## 2      Si  0 - 20 20 - 50    &gt; 50    &lt;NA&gt;      58      50      46       0
## 3    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &gt; 35    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;      50       0
## 4    &lt;NA&gt;  0 - 15 15 - 35    &gt; 35    &lt;NA&gt;      60    &lt;NA&gt;      46       0
## 5    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;      58      40      52       0
##   H1_LIMO H2_LIMO H3_LIMO H4_LIMO H1_ARCI H2_ARCI H3_ARCI H4_ARCI H1_TEXT
## 1      22      22      20       0      24      38      40       0     FAa
## 2      20      22      16       0      22      28      38       0     FAa
## 3    &lt;NA&gt;    &lt;NA&gt;      28       0    &lt;NA&gt;    &lt;NA&gt;      22       0    &lt;NA&gt;
## 4      22    &lt;NA&gt;      20       0      18    &lt;NA&gt;      34       0      Fa
## 5      22      24      44       0      20      36       4       0      Fa
##   H2_TEXT H3_TEXT H4_TEXT H1_FOSF H2_FOSF H3_FOSF H4_FOSF H1_POTA H2_POTA
## 1      FA       A    &lt;NA&gt;      30      49       2       0     574     384
## 2     FAa      Aa    &lt;NA&gt;       4       2       3       0     275      37
## 3    &lt;NA&gt;       F    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;       2       0    &lt;NA&gt;    &lt;NA&gt;
## 4    &lt;NA&gt;     FAa    &lt;NA&gt;       4    &lt;NA&gt;       2       0      82    &lt;NA&gt;
## 5      FA      Fa    &lt;NA&gt;       2       2       2       0      47      52
##   H3_POTA H4_POTA H1_CALC H2_CALC H3_CALC H4_CALC H1_MAGN H2_MAGN H3_MAGN
## 1      91       0     678      91      64       0     326      58      31
## 2      17       0     364       7      34       0     142       9      11
## 3      38       0    &lt;NA&gt;    &lt;NA&gt;      92       0    &lt;NA&gt;    &lt;NA&gt;     158
## 4      25       0     322    &lt;NA&gt;      11       0     274    &lt;NA&gt;      40
## 5      24       0     116      22      14       0     130     317     176
##   H4_MAGN H1_MO H2_MO H3_MO H4_MO H1_PH H2_PH H3_PH H4_PH H1_CE H2_CE H3_CE
## 1       0  4.74  1.81  0.99     0  5.87  4.94  4.66     0  0.09  0.05  0.05
## 2       0  6.59  2.37  0.79     0  5.08  4.73  4.53     0  0.05  0.04  0.03
## 3       0  0.00  0.00  0.87     0  0.00  0.00  5.05     0  0.00  0.00  0.03
## 4       0  3.42  0.00  2.28     0  5.01  0.00  4.53     0  0.07  0.00  0.03
## 5       0  2.09  0.70  0.14     0  4.83  5.10  6.04     0  0.03  0.04  0.37
##   H4_CE       LOCALIDAD                            USO            VEGETACION
## 1     0 Sur Valle Hondo            Ganaderia Extensiva  Bosque SV Medio Ralo
## 2     0      La Soledad Ganaderia Extensiva - Citricos Bosque SV Medio Denso
## 3     0    Las Garcitas               Citricos - CaÃ±a   Bosque Deciduo Ralo
## 4     0    Las Garcitas                Cafe - Citricos  B sque SV Medio Ralo
## 5     0       El Guineo                        Sin Uso           Arbustal SD
##             EROSION                     MAT_PAREN D_INTERNO D_EXTERNO C_DRENAJE
## 1 Imperceptible (0) Coluvial - Esquistos y Gne ss    Rapido    Rapido        BD
## 2 Imperceptible (0) Coluvial - Esquistos y Gneiss    Rapido    Rapido        BD
## 3        Fuerte (3)             Coluvial - Gneiss    Rapido    Rapido        BD
## 4 Imperceptible (0)   Regolito in situ - Coluvial    Rapido    Rapido        BD
## 5 Imperceptible (0)             Coluvial - Gneiss    Rapido    Rapido        BD
##   EPIPEDON ENDOPEDON                  TAXO_1 TAXO_2 TAXO_3 RUTINA CPENDIEN
## 1  Umbrico  Argilico Umbric Ultic Hapludalfs   &lt;NA&gt;   &lt;NA&gt;      1        4
## 2  Umbrico  Argilico        Humic Hapludults   &lt;NA&gt;   &lt;NA&gt;      1        3
## 3   Ocrico   Cambico      Typic Dystrustepts   &lt;NA&gt;   &lt;NA&gt;      1        4
## 4  Umbrico  Argilico        Humic Hapludults   &lt;NA&gt;   &lt;NA&gt;      1        5
## 5   Ocrico  Argilico       Typic Haplustalfs   &lt;NA&gt;   &lt;NA&gt;      2        3
##   PENDIENTE VEGETA_MAP INTERV_MAP CI_CA CI_MG CI_H CI_NA CI_K AI_AL   C_C
## 1        35         BD   Moderada  1.20  0.76 0.06  0.06 0.33     3  8.86
## 2        15         BN     Fuerte  0.86  0.51 0.12  0.08 0.08     4 11.99
## 3        39      BD+BS     Fuerte  0.00  0.00 0.00  0.00 0.00     0  0.00
## 4        47         BS       Baja  0.00  0.00 0.00  0.00 0.00     0  0.00
## 5        10         BD   Moderada  4.36  3.30 0.00  0.44 0.05     0  0.00
##   DTP_AMG DTP_AG DTP_AM DTP_AF DTP_AMF DTP_AT DTP_ARCT DTP_LIMT DTP_CT
## 1    2.16   4.86  11.02  18.47   11.88  48.38    25.92    25.70    FAa
## 2    2.58   8.06  21.28  18.81    7.61  58.34    22.40    19.26    FAa
## 3    0.00   0.00   0.00   0.00    0.00   0.00     0.00     0.00   &lt;NA&gt;
## 4    4.42   8.52  11.25  13.14    8.83  46.16    33.65    20.19    FAa
## 5    0.00   0.00   0.00   0.00    0.00   0.00     0.00     0.00   &lt;NA&gt;
##   Z_SB_CICP    C_PEND1    MICRORELI TEXT_GE C_TEXTURAL  PEDREGOSI
## 1     43.93 Fuerte (4) Moderado (2)      FA   Fina (3) Ligera (1)
## 2     27.67 Severa (5) Moderado (2)     FAa  Media (2) Ligera (1)
## 3        NA Fuerte (4) Moderado (2)       F  Media (2) Ligera (1)
## 4        NA Fuerte (4) Moderado (2)       F  Media (2) Ligera (1)
## 5    100.00 Ligera (2) Moderado (2)     FAa  Media (2) Ligera (1)
##           PROFUNDI  SALINIDAD   FERTILIDAD SAT_AL FOSFORO_1 POTASIO_1 MO_1
## 1 Muy Profundo (1) Ligera (1) Moderada (2)  56.07        41       460 2.98
## 2 Muy Profundo (1) Ligera (1) Moderada (2)  72.33         3       196 5.18
## 3     Profundo (2) Ligera (1) Moderada (2)     NA         2        38 0.87
## 4 Muy Profundo (1) Ligera (1) Moderada (2)     NA         3        54 2.85
## 5 Muy Profundo (1) Ligera (1) Moderada (2)   0.00         2        49 1.63
##   FOSF_NIV POTA_NIV MAORG_NIV    TOXICI_AL     PERMEABI  DRENAJE_I  DRENAJE_E
## 1     Alto     Alto     Medio Media a Alta Moderada (3) Rapido (4) Rapido (5)
## 2     Bajo     Alto      Alto Media a Alta   Rapida (4) Rapido (4) Rapido (5)
## 3     Bajo     Bajo      Bajo         Baja   Rapida (4) Rapido (4) Rapido (5)
## 4     Bajo    Medio     Medio Media a Alta   Rapida (4) Rapido (4) Rapido (5)
## 5     Bajo     Bajo     Medio         Baja   Rapida (4) Rapido (4) Rapido (5)
##   INUNDACION  CUSO   ZV                   ESTRUCTURA PERMEA_KA COD_EST COD_PER
## 1    Sin (1)   VTp BhPm   Blocosa Subangular; Fuerte    Rapida       4       2
## 2    Sin (1) VIITp BhPm   Blocosa Subangular; Fuerte    Rapida       4       2
## 3    Sin (1)   VTp BhPm Blocosa Subangular; Moderada  Moderada       4       3
## 4    Sin (1)   VTp BhPm   Blocosa Subangular; Fuerte    Rapida       4       2
## 5    Sin (1) IIITp  BsT   Blocosa Subangular; Fuerte    Rapida       4       2</code></pre>
<pre class="r"><code># Observamos los 6 ultimos registro de su base de datos:
tail(suelos,5)</code></pre>
<pre><code>##    ID NUMERO             NOMBRE   ESTE   NORTE ALTURA_C DIST_PAR SB ALTURA
## 45 45   &lt;NA&gt;             Capa 2 578378 1140237      286        0  0    287
## 46 46   &lt;NA&gt;        Santa Ana 2 577882 1141953      288        1  0    267
## 47 47   &lt;NA&gt; Afloramiento Verde 575665 1145396      310        0  0    340
## 48 48   &lt;NA&gt;        Confluencia 573738 1151455        0        0  0    240
## 49 49   &lt;NA&gt;     Margen Embalse 574015 1148377        0        0  0    360
##     PEDREGO MUESTRA H1_PROF H2_PROF H3_PROF H4_PROF H1_AREN H2_AREN H3_AREN
## 45   Ligera    &lt;NA&gt;  0 - 25 25 - 40 40 - 60    &lt;NA&gt;      46      44      42
## 46   Ligera    &lt;NA&gt; 00 - 20 20   35  35 -80    &gt; 80       0      22      32
## 47 Moderada    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;      68      42      60
## 48   Ligera    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;      58      40      52
## 49   Ligera    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;    &lt;NA&gt;      68      42      60
##    H4_AREN H1_LIMO H2_LIMO H3_LIMO H4_LIMO H1_ARCI H2_ARCI H3_ARCI H4_ARCI
## 45       0      32      30      26       0      22      26      32       0
## 46       0       0      68      58       0       0      10      10       0
## 47       0      14      24      26       0      18      34      14       0
## 48       0      22      24      44       0      20      36       4       0
## 49       0      14      24      26       0      18      34      14       0
##    H1_TEXT H2_TEXT H3_TEXT H4_TEXT H1_FOSF H2_FOSF H3_FOSF H4_FOSF H1_POTA
## 45       F       F      FA    &lt;NA&gt;      71      22      10       0     203
## 46    &lt;NA&gt;      FL      FL    &lt;NA&gt;      23      69      17       0      97
## 47      Fa      FA      Fa    &lt;NA&gt;       1       1       1       0      36
## 48      Fa      FA      Fa    &lt;NA&gt;       2       2       2       0      47
## 49      Fa      FA      Fa    &lt;NA&gt;       1       1       1       0      36
##    H2_POTA H3_POTA H4_POTA H1_CALC H2_CALC H3_CALC H4_CALC H1_MAGN H2_MAGN
## 45     109      66       0    1100    4380    6380       0     274     206
## 46      66      28       0     852    1198     782       0     348     300
## 47      19      20       0     204      59      28       0     178     302
## 48      52      24       0     116      22      14       0     130     316
## 49      19      20       0     204      59      28       0     178     302
##    H3_MAGN H4_MAGN H1_MO H2_MO H3_MO H4_MO H1_PH H2_PH H3_PH H4_PH H1_CE H2_CE
## 45     270       0  2.56  0.96  0.37     0  7.21  7.99  8.11     0  0.14  0.19
## 46     202       0  4.37  3.63  0.76     0  5.72  6.71  8.04     0  0.53  0.43
## 47     370       0  3.19  1.34  0.58     0  4.86  4.77  5.18     0  0.05  0.12
## 48     176       0  2.09  0.70  0.14     0  4.83  5.10  6.04     0  0.03  0.04
## 49     370       0  3.19  1.34  0.58     0  4.86  4.77  5.18     0  0.05  0.12
##    H3_CE H4_CE LOCALIDAD                 USO     VEGETACION           EROSION
## 45  0.36     0      Capa            Citricos       Agricola Imperceptible (0)
## 46  0.12     0 Santa Ana            Citricos       Agricola Imperceptible (0)
## 47  0.26     0 Via Urama Ganaderia Extensiva Bosque Deciduo      Moderada (2)
## 48  0.37     0 Via Urama             Sin Uso    Arbustal SD Imperceptible (0)
## 49  0.26     0 Via Urama             Sin Uso    Arbustal SD Imperceptible (0)
##                        MAT_PAREN D_INTERNO D_EXTERNO C_DRENAJE EPIPEDON
## 45              Aluvial - Gneiss  Moderado  Moderado       MBD   Molico
## 46              Aluvial - Gneiss    Rapido    Rapido        BD   Ocrico
## 47 Coluvial - Esquistos y Gneiss    Rapido    Rapido        BD   Ocrico
## 48             Coluvial - Gneiss    Rapido    Rapido        BD   Ocrico
## 49             Coluvial - Gneiss    Rapido    Rapido        BD   Ocrico
##    ENDOPEDON                TAXO_1 TAXO_2 TAXO_3 RUTINA CPENDIEN PENDIENTE
## 45  Argilico     Aquic Haplustalfs   &lt;NA&gt;   &lt;NA&gt;      2        2         4
## 46   Cambico Fluventic Haplustepts   &lt;NA&gt;   &lt;NA&gt;      1        2         4
## 47  Argilico     Typic Haplustalfs   &lt;NA&gt;   &lt;NA&gt;      2        4        42
## 48  Argilico     Typic Haplustalfs   &lt;NA&gt;   &lt;NA&gt;      2        4        43
## 49  Argilico     Typic Haplustalfs   &lt;NA&gt;   &lt;NA&gt;      2        4        30
##      VEGETA_MAP INTERV_MAP CI_CA CI_MG CI_H CI_NA CI_K AI_AL C_C DTP_AMG DTP_AG
## 45           BD     Fuerte  4.74  3.63 0.00  0.18 0.32  0.00   0       0   0.00
## 46           BD   Moderada  0.00  0.00 0.00  0.00 0.00  0.00   0       0   0.32
## 47           BD   Moderada  0.00  0.00 0.00  0.00 0.00  0.00   0       0   0.00
## 48 BD (Desnudo)     Fuerte 12.87 10.07 0.31  0.25 0.28  3.06   0       0   0.00
## 49           BD   Moderada  0.00  0.00 0.00  0.00 0.00  0.00   0       0   0.00
##    DTP_AM DTP_AF DTP_AMF DTP_AT DTP_ARCT DTP_LIMT DTP_CT Z_SB_CICP     C_PEND1
## 45   0.00   0.00    0.00   0.00     0.00     0.00   &lt;NA&gt;    100.00 Ninguna (1)
## 46   0.74  10.68   24.52  36.26    16.91    46.83      F        NA Ninguna (1)
## 47   0.00   0.00    0.00   0.00     0.00     0.00   &lt;NA&gt;        NA  Fuerte (4)
## 48   0.00   0.00    0.00   0.00     0.00     0.00   &lt;NA&gt;     88.47  Fuerte (4)
## 49   0.00   0.00    0.00   0.00     0.00     0.00   &lt;NA&gt;        NA  Fuerte (4)
##       MICRORELI TEXT_GE C_TEXTURAL    PEDREGOSI         PROFUNDI  SALINIDAD
## 45   Ligero (1)       F  Media (2)   Ligera (1) Muy Profundo (1) Ligera (1)
## 46   Ligero (1)      FL   Fina (3)   Ligera (1) Muy Profundo (1) Ligera (1)
## 47 Moderado (2)     FAa  Media (2) Moderada (2)     Profundo (2) Ligera (1)
## 48 Moderado (2)     FAa  Media (2)   Ligera (1) Muy Profundo (1) Ligera (1)
## 49 Moderado (2)     FAa  Media (2)   Ligera (1) Muy Profundo (1) Ligera (1)
##      FERTILIDAD SAT_AL FOSFORO_1 POTASIO_1 MO_1 FOSF_NIV POTA_NIV MAORG_NIV
## 45   Ligera (1)   0.00        63       187 2.29     Alto     Alto     Medio
## 46   Ligera (1)     NA        38        87 4.12     Alto    Medio      Alto
## 47   Fuerte (3)     NA         1        30 2.57     Bajo     Bajo     Medio
## 48 Moderada (2)  11.53         2        49 1.63     Bajo     Bajo     Medio
## 49   Fuerte (3)     NA         1        30 2.57     Bajo     Bajo     Medio
##    TOXICI_AL   PERMEABI    DRENAJE_I    DRENAJE_E         INUNDACION  CUSO  ZV
## 45      Baja Rapida (4) Moderado (3) Moderado (4)      Frecuente (3) VScDi BsT
## 46      Baja Rapida (4) Moderado (3) Moderado (4) Ocasionalmente (2)  IVDi BsT
## 47      Baja Rapida (4)   Rapido (4)   Rapido (5)            Sin (1)  VITp BsT
## 48      Baja Rapida (4)   Rapido (4)   Rapido (5)            Sin (1)  VITp BsT
## 49      Baja Rapida (4)   Rapido (4)   Rapido (5)            Sin (1)  VITp BsT
##                    ESTRUCTURA PERMEA_KA COD_EST COD_PER
## 45 Blocosa Subangular; Fuerte  Moderada       4       3
## 46 Blocosa Subangular; Fuerte  Moderada       4       3
## 47 Blocosa Subangular; Fuerte    Rapida       4       2
## 48 Blocosa Subangular; Fuerte    Rapida       4       2
## 49 Blocosa Subangular; Fuerte    Rapida       4       2</code></pre>
<pre class="r"><code># Vemos el numero de filas y columnas:
dim(suelos)</code></pre>
<pre><code>## [1]  49 120</code></pre>
<pre class="r"><code># Observamos la clase del objeto R suelos:
class(suelos)</code></pre>
<pre><code>## [1] &quot;SpatialPointsDataFrame&quot;
## attr(,&quot;package&quot;)
## [1] &quot;sp&quot;</code></pre>
<pre class="r"><code># Vemos el espacio que ocupa en memoria el objeto R suelos (Bytes):
object.size(suelos)</code></pre>
<pre><code>## 122824 bytes</code></pre>
<pre class="r"><code># Vemos los nombres de sus columnas, campos o variables:
names(suelos)</code></pre>
<pre><code>##   [1] &quot;ID&quot;         &quot;NUMERO&quot;     &quot;NOMBRE&quot;     &quot;ESTE&quot;       &quot;NORTE&quot;     
##   [6] &quot;ALTURA_C&quot;   &quot;DIST_PAR&quot;   &quot;SB&quot;         &quot;ALTURA&quot;     &quot;PEDREGO&quot;   
##  [11] &quot;MUESTRA&quot;    &quot;H1_PROF&quot;    &quot;H2_PROF&quot;    &quot;H3_PROF&quot;    &quot;H4_PROF&quot;   
##  [16] &quot;H1_AREN&quot;    &quot;H2_AREN&quot;    &quot;H3_AREN&quot;    &quot;H4_AREN&quot;    &quot;H1_LIMO&quot;   
##  [21] &quot;H2_LIMO&quot;    &quot;H3_LIMO&quot;    &quot;H4_LIMO&quot;    &quot;H1_ARCI&quot;    &quot;H2_ARCI&quot;   
##  [26] &quot;H3_ARCI&quot;    &quot;H4_ARCI&quot;    &quot;H1_TEXT&quot;    &quot;H2_TEXT&quot;    &quot;H3_TEXT&quot;   
##  [31] &quot;H4_TEXT&quot;    &quot;H1_FOSF&quot;    &quot;H2_FOSF&quot;    &quot;H3_FOSF&quot;    &quot;H4_FOSF&quot;   
##  [36] &quot;H1_POTA&quot;    &quot;H2_POTA&quot;    &quot;H3_POTA&quot;    &quot;H4_POTA&quot;    &quot;H1_CALC&quot;   
##  [41] &quot;H2_CALC&quot;    &quot;H3_CALC&quot;    &quot;H4_CALC&quot;    &quot;H1_MAGN&quot;    &quot;H2_MAGN&quot;   
##  [46] &quot;H3_MAGN&quot;    &quot;H4_MAGN&quot;    &quot;H1_MO&quot;      &quot;H2_MO&quot;      &quot;H3_MO&quot;     
##  [51] &quot;H4_MO&quot;      &quot;H1_PH&quot;      &quot;H2_PH&quot;      &quot;H3_PH&quot;      &quot;H4_PH&quot;     
##  [56] &quot;H1_CE&quot;      &quot;H2_CE&quot;      &quot;H3_CE&quot;      &quot;H4_CE&quot;      &quot;LOCALIDAD&quot; 
##  [61] &quot;USO&quot;        &quot;VEGETACION&quot; &quot;EROSION&quot;    &quot;MAT_PAREN&quot;  &quot;D_INTERNO&quot; 
##  [66] &quot;D_EXTERNO&quot;  &quot;C_DRENAJE&quot;  &quot;EPIPEDON&quot;   &quot;ENDOPEDON&quot;  &quot;TAXO_1&quot;    
##  [71] &quot;TAXO_2&quot;     &quot;TAXO_3&quot;     &quot;RUTINA&quot;     &quot;CPENDIEN&quot;   &quot;PENDIENTE&quot; 
##  [76] &quot;VEGETA_MAP&quot; &quot;INTERV_MAP&quot; &quot;CI_CA&quot;      &quot;CI_MG&quot;      &quot;CI_H&quot;      
##  [81] &quot;CI_NA&quot;      &quot;CI_K&quot;       &quot;AI_AL&quot;      &quot;C_C&quot;        &quot;DTP_AMG&quot;   
##  [86] &quot;DTP_AG&quot;     &quot;DTP_AM&quot;     &quot;DTP_AF&quot;     &quot;DTP_AMF&quot;    &quot;DTP_AT&quot;    
##  [91] &quot;DTP_ARCT&quot;   &quot;DTP_LIMT&quot;   &quot;DTP_CT&quot;     &quot;Z_SB_CICP&quot;  &quot;C_PEND1&quot;   
##  [96] &quot;MICRORELI&quot;  &quot;TEXT_GE&quot;    &quot;C_TEXTURAL&quot; &quot;PEDREGOSI&quot;  &quot;PROFUNDI&quot;  
## [101] &quot;SALINIDAD&quot;  &quot;FERTILIDAD&quot; &quot;SAT_AL&quot;     &quot;FOSFORO_1&quot;  &quot;POTASIO_1&quot; 
## [106] &quot;MO_1&quot;       &quot;FOSF_NIV&quot;   &quot;POTA_NIV&quot;   &quot;MAORG_NIV&quot;  &quot;TOXICI_AL&quot; 
## [111] &quot;PERMEABI&quot;   &quot;DRENAJE_I&quot;  &quot;DRENAJE_E&quot;  &quot;INUNDACION&quot; &quot;CUSO&quot;      
## [116] &quot;ZV&quot;         &quot;ESTRUCTURA&quot; &quot;PERMEA_KA&quot;  &quot;COD_EST&quot;    &quot;COD_PER&quot;</code></pre>
<pre class="r"><code># Observamos un resumen de las es

# extraeremos un subgrupo del objeto R origina de suelos, que cumplan un criterio, el cual es que su pH sea menor y mayor a 5.5 pH.
suelos_ma &lt;- subset(suelos, H1_PH &gt; 5.5, c(3,4,5,52))
suelos_ma</code></pre>
<pre><code>## class       : SpatialPointsDataFrame 
## features    : 13 
## extent      : 577882, 581193, 1136428, 1141953  (xmin, xmax, ymin, ymax)
## crs         : +proj=utm +zone=19 +ellps=intl +units=m +no_defs 
## variables   : 4
## names       :      NOMBRE,   ESTE,   NORTE, H1_PH 
## min values  :      Capa 1, 577882, 1136428,  5.72 
## max values  : Valle Hondo, 581193, 1141953,  8.05</code></pre>
<pre class="r"><code>suelos_me &lt;- subset(suelos, H1_PH &lt;= 5.5, c(3,4,5,52))
suelos_me</code></pre>
<pre><code>## class       : SpatialPointsDataFrame 
## features    : 36 
## extent      : 572839, 585510, 1135243, 1151455  (xmin, xmax, ymin, ymax)
## crs         : +proj=utm +zone=19 +ellps=intl +units=m +no_defs 
## variables   : 4
## names       :             NOMBRE,   ESTE,   NORTE, H1_PH 
## min values  : Afloramiento Verde, 572839, 1135243,     0 
## max values  :              Valle, 585510, 1151455,  5.45</code></pre>
<pre class="r"><code>plot(DEM, main=&quot;Perfiles de suelos&quot;)
points(suelos_ma, pch=19, col=&quot;blue&quot;, cex=1.2)
points(suelos_me, pch=19, col=&quot;red&quot;, cex=1.2)</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<pre class="r"><code>plot(suelos$H1_PH, pch=19, col=&quot;blue&quot;, type=&quot;b&quot;)
legend(2,8, &quot;pH&quot;, pch = 19, col = &quot;blue&quot;)
abline(h=5.5)</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-21-2.png" width="672" /></p>
<pre class="r"><code>#box(lty = &#39;1373&#39;, col = &#39;red&#39;)



suelosph &lt;- suelos@data[suelos$H1_PH &gt; 0, c(&quot;NOMBRE&quot;, &quot;H1_PH&quot;)]

plot(suelosph$H1_PH, pch=19, col=&quot;blue&quot;, type=&quot;b&quot;)</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-21-3.png" width="672" /></p>
<pre class="r"><code>plot(suelos$H1_PH)
legend(2, 7, &quot;alirio&quot;, pch=17)</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-21-4.png" width="672" /></p>
<pre class="r"><code>which(is.na(suelos$H1_PH))</code></pre>
<pre><code>## integer(0)</code></pre>
<pre class="r"><code>summary(suelosph$H1_PH)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   3.830   4.817   5.010   5.317   5.888   8.050</code></pre>
<pre class="r"><code>summary(suelos$H1_PH)</code></pre>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   0.000   4.670   4.870   4.774   5.720   8.050</code></pre>
<pre class="r"><code>plot(suelosph$H1_PH, pch=19, col=&quot;blue&quot;, type=&quot;b&quot;)
text(10, 20, &quot;aqui no&quot;)</code></pre>
<p><img src="/post/2020-03-14-locote-2_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>Pendientes:</p>
<p>hacer un resumen de una característica como pH.</p>
<p>hacemos un mapas con los sitios de suelos con mayor y menor a 5.5 de pH.</p>
<p>Cambiamos el nombre del campo “Tree” por “arboles”: datos1 &lt;- rename(Orange, arboles = Tree)</p>
<p>Proximos post:</p>
<p>como Graficos con ggplot2 y ggplot paquete sp paquete rgdal</p>
</div>

<p> esta es una prueba</p>
    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-160645872-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

  </body>
</html>

